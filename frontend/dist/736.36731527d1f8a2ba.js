"use strict";(self.webpackChunkspa_modern_frontend=self.webpackChunkspa_modern_frontend||[]).push([[736],{5736:(J,u,s)=>{s.r(u),s.d(u,{ClientesModule:()=>H});var g=s(177),m=s(9012),a=s(9417),b=s(9159),h=s(6695),_=s(2042),v=s(6467),F=s(9631),M=s(8834),x=s(9213),k=s(5596),E=s(5351),O=s(5416),P=s(2798),j=s(9183),e=s(4438),p=s(551);function I(o,c){1&o&&(e.j41(0,"div",41),e.EFF(1,"Cargando clientes..."),e.k0s())}function R(o,c){if(1&o&&(e.j41(0,"div",42),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.JRh(n.error)}}function y(o,c){if(1&o){const n=e.RV6();e.j41(0,"button",52),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.activateCliente(t.id))}),e.nrm(1,"i",53),e.EFF(2," Activar "),e.k0s()}}function T(o,c){if(1&o){const n=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.deactivateCliente(t.id))}),e.nrm(1,"i",55),e.EFF(2," Desactivar "),e.k0s()}}function w(o,c){if(1&o){const n=e.RV6();e.j41(0,"tr",45)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s(),e.j41(18,"td"),e.EFF(19),e.k0s(),e.j41(20,"td")(21,"span"),e.EFF(22),e.k0s()(),e.j41(23,"td",46)(24,"div",47),e.DNE(25,y,3,0,"button",48)(26,T,3,0,"button",49),e.j41(27,"button",50),e.bIt("click",function(){const t=e.eBV(n).$implicit,l=e.XpG(2);return e.Njj(l.editCliente(t))}),e.nrm(28,"i",51),e.EFF(29," Editar "),e.k0s()()()()}if(2&o){const n=c.$implicit;e.R7$(2),e.JRh(n.id),e.R7$(2),e.JRh(n.nombre),e.R7$(2),e.JRh(n.apellido),e.R7$(2),e.JRh(n.email),e.R7$(2),e.JRh("M"===n.genero?"Masculino":"F"===n.genero?"Femenino":""),e.R7$(2),e.JRh(e.i5U(13,14,n.fecha_nacimiento,"dd/MM/yyyy")),e.R7$(3),e.JRh(n.cedula),e.R7$(2),e.JRh(n.numero),e.R7$(2),e.JRh(n.locacion),e.R7$(2),e.HbH("status-"+n.estado),e.R7$(),e.JRh(n.estado),e.R7$(3),e.Y8G("ngIf","inactivo"===n.estado),e.R7$(),e.Y8G("ngIf","activo"===n.estado)}}function $(o,c){if(1&o&&(e.j41(0,"table",43)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"ID"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Nombres"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Apellidos"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Email"),e.k0s(),e.j41(11,"th"),e.EFF(12,"G\xe9nero"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Fecha de Nacimiento"),e.k0s(),e.j41(15,"th"),e.EFF(16,"C\xe9dula"),e.k0s(),e.j41(17,"th"),e.EFF(18,"N\xfamero"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Locaci\xf3n"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Estado"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Acciones"),e.k0s()()(),e.j41(25,"tbody"),e.DNE(26,w,30,17,"tr",44),e.k0s()()),2&o){const n=e.XpG();e.R7$(26),e.Y8G("ngForOf",n.clientes)}}function N(o,c){1&o&&(e.j41(0,"p"),e.EFF(1,"No hay datos disponibles."),e.k0s())}function G(o,c){if(1&o){const n=e.RV6();e.j41(0,"button",56),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.cancelarEdicion())}),e.EFF(1,"Cancelar"),e.k0s()}}function L(o,c){if(1&o&&(e.j41(0,"div",57),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.HbH("message "+n.messageType),e.R7$(),e.SpI(" ",n.message," ")}}let f=(()=>{class o{constructor(n,i){this.router=n,this.clientesService=i,this.clientes=[],this.loading=!1,this.error=null,this.activeTab="list",this.isEditing=!1,this.editingClienteId=null,this.message="",this.messageType="",this.nuevoCliente={nombre:"",apellido:"",cedula:"",numero:"",email:"",fecha_nacimiento:"",genero:"",locacion:"",estado:"activo"}}ngOnInit(){this.loadClientes()}loadClientes(){console.log("Cargando clientes..."),this.loading=!0,this.error=null,this.clientesService.getClientes().subscribe({next:n=>{console.log("Respuesta del servidor:",n),this.clientes=n&&n.success&&n.data?n.data:Array.isArray(n)?n:[],this.loading=!1,console.log("Clientes cargados:",this.clientes)},error:n=>{console.error("Error al cargar clientes:",n),this.error="Error al cargar los clientes. Mostrando datos de ejemplo.",this.loading=!1,this.clientes=[{id:1,nombre:"Juan",apellido:"P\xe9rez",cedula:"12345678",numero:"555-0123",email:"juan@email.com",fecha_nacimiento:"1990-01-15",genero:"M",locacion:"Ciudad A",estado:"activo"},{id:2,nombre:"Mar\xeda",apellido:"Gonz\xe1lez",cedula:"87654321",numero:"555-0456",email:"maria@email.com",fecha_nacimiento:"1985-05-20",genero:"F",locacion:"Ciudad B",estado:"activo"}]}})}setActiveTab(n){this.activeTab=n,"new"===n?(this.isEditing=!1,this.editingClienteId=null,this.limpiarFormulario()):"list"===n&&(this.loadClientes(),this.isEditing=!1,this.editingClienteId=null),this.clearMessages()}guardarCliente(){if(!this.validarFormulario())return;this.loading=!0;const n={...this.nuevoCliente,genero:this.nuevoCliente.genero};this.isEditing&&this.editingClienteId?this.clientesService.updateCliente(this.editingClienteId,n).subscribe({next:i=>{this.showMessage("success","Cliente actualizado correctamente"),this.setActiveTab("list"),this.loading=!1},error:i=>{console.error("Error al actualizar cliente:",i),this.showMessage("error","Error al actualizar el cliente"),this.loading=!1}}):this.clientesService.createCliente(n).subscribe({next:i=>{this.showMessage("success","Cliente creado correctamente"),this.limpiarFormulario(),this.loading=!1},error:i=>{console.error("Error al crear cliente:",i),this.showMessage("error","Error al crear el cliente"),this.loading=!1}})}editCliente(n){this.isEditing=!0,this.editingClienteId=n.id,this.nuevoCliente={nombre:n.nombre,apellido:n.apellido,cedula:n.cedula,numero:n.numero,email:n.email||"",fecha_nacimiento:n.fecha_nacimiento||"",genero:n.genero||"",locacion:n.locacion||"",estado:n.estado||"activo"},this.setActiveTab("edit")}activateCliente(n){const i=this.clientes.find(t=>t.id===n);i&&(i.estado="activo",this.showMessage("success","Cliente activado correctamente"))}deactivateCliente(n){if(confirm("\xbfEst\xe1 seguro de que desea desactivar este cliente?")){const i=this.clientes.find(t=>t.id===n);i&&(i.estado="inactivo",this.showMessage("success","Cliente desactivado correctamente"))}}limpiarFormulario(){this.nuevoCliente={nombre:"",apellido:"",cedula:"",numero:"",email:"",fecha_nacimiento:"",genero:"",locacion:"",estado:"activo"},this.clearMessages()}cancelarEdicion(){this.isEditing=!1,this.editingClienteId=null,this.limpiarFormulario(),this.setActiveTab("list")}validarFormulario(){return this.nuevoCliente.nombre.trim()?this.nuevoCliente.apellido.trim()?this.nuevoCliente.cedula.trim()?this.nuevoCliente.numero.trim()?this.nuevoCliente.genero?!!this.nuevoCliente.fecha_nacimiento||(this.showMessage("error","La fecha de nacimiento es requerida"),!1):(this.showMessage("error","El g\xe9nero es requerido"),!1):(this.showMessage("error","El n\xfamero de tel\xe9fono es requerido"),!1):(this.showMessage("error","La c\xe9dula es requerida"),!1):(this.showMessage("error","El apellido es requerido"),!1):(this.showMessage("error","El nombre es requerido"),!1)}showMessage(n,i){this.message=i,this.messageType=n,setTimeout(()=>{this.clearMessages()},3e3)}clearMessages(){this.message="",this.messageType=""}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(m.Ix),e.rXU(p.T))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-clientes-list"]],standalone:!0,features:[e.aNF],decls:73,vars:25,consts:[["clienteForm","ngForm"],[1,"main-content1"],[1,"mini-menu"],[1,"tab-button",3,"click"],["id","listSection"],[1,"content"],[1,"table-wrapper"],[1,"table-container"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","user-table",4,"ngIf"],[4,"ngIf"],["id","formSection"],[1,"user-form",3,"ngSubmit"],[1,"centered-title"],[1,"form-row"],[1,"form-group"],["type","text","id","nombre","name","nombre","required","","placeholder"," ",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","id","apellido","name","apellido","required","","placeholder"," ",3,"ngModelChange","ngModel"],["for","apellido"],["type","email","id","email","name","email","placeholder"," ",3,"ngModelChange","ngModel"],["for","email"],["id","genero","name","genero","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","M"],["value","F"],["for","genero"],["type","text","id","cedula","name","cedula","required","","placeholder"," ",3,"ngModelChange","ngModel"],["for","cedula"],["type","text","id","numero","name","numero","required","","placeholder"," ",3,"ngModelChange","ngModel"],["for","numero"],["type","date","id","fecha_nacimiento","name","fecha_nacimiento","required","",3,"ngModelChange","ngModel"],["for","fecha_nacimiento"],["type","text","id","locacion","name","locacion","placeholder"," ",3,"ngModelChange","ngModel"],["for","locacion"],[1,"form-buttons"],["type","submit",1,"btn-save",3,"disabled"],["type","button",1,"btn-clear",3,"click"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],["class","message-container",3,"class",4,"ngIf"],[1,"loading"],[1,"error"],[1,"user-table"],["class","user-row",4,"ngFor","ngForOf"],[1,"user-row"],[1,"actions"],[1,"action-buttons"],["class","btn-activate","title","Activar",3,"click",4,"ngIf"],["class","btn-deactivate","title","Desactivar",3,"click",4,"ngIf"],["title","Editar",1,"btn-edit",3,"click"],[1,"fa","fa-pencil-alt"],["title","Activar",1,"btn-activate",3,"click"],[1,"fa","fa-check"],["title","Desactivar",1,"btn-deactivate",3,"click"],[1,"fa","fa-ban"],["type","button",1,"btn-cancel",3,"click"],[1,"message-container"]],template:function(i,t){if(1&i){const l=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"a",3),e.bIt("click",function(r){return e.eBV(l),t.setActiveTab("list"),e.Njj(r.preventDefault())}),e.EFF(3,"Clientes"),e.k0s(),e.j41(4,"a",3),e.bIt("click",function(r){return e.eBV(l),t.setActiveTab("new"),e.Njj(r.preventDefault())}),e.EFF(5,"Nuevo Cliente"),e.k0s()(),e.j41(6,"section",4)(7,"div",5)(8,"div",6)(9,"h2"),e.EFF(10,"Listado de Clientes"),e.k0s(),e.j41(11,"div",7),e.DNE(12,I,2,0,"div",8)(13,R,2,1,"div",9)(14,$,27,1,"table",10)(15,N,2,0,"p",11),e.k0s()()()(),e.j41(16,"section",12)(17,"div",5)(18,"p"),e.EFF(19,"\xa0"),e.k0s(),e.j41(20,"form",13,0),e.bIt("ngSubmit",function(){return e.eBV(l),e.Njj(t.guardarCliente())}),e.j41(22,"h1",14),e.EFF(23),e.k0s(),e.j41(24,"div",15)(25,"div",16)(26,"input",17),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.nombre,r)||(t.nuevoCliente.nombre=r),e.Njj(r)}),e.k0s(),e.j41(27,"label",18),e.EFF(28,"Nombres"),e.k0s()(),e.j41(29,"div",16)(30,"input",19),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.apellido,r)||(t.nuevoCliente.apellido=r),e.Njj(r)}),e.k0s(),e.j41(31,"label",20),e.EFF(32,"Apellidos"),e.k0s()()(),e.j41(33,"div",15)(34,"div",16)(35,"input",21),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.email,r)||(t.nuevoCliente.email=r),e.Njj(r)}),e.k0s(),e.j41(36,"label",22),e.EFF(37,"Email"),e.k0s()(),e.j41(38,"div",16)(39,"select",23),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.genero,r)||(t.nuevoCliente.genero=r),e.Njj(r)}),e.j41(40,"option",24),e.EFF(41,"Seleccionar g\xe9nero"),e.k0s(),e.j41(42,"option",25),e.EFF(43,"Masculino"),e.k0s(),e.j41(44,"option",26),e.EFF(45,"Femenino"),e.k0s()(),e.j41(46,"label",27),e.EFF(47,"G\xe9nero"),e.k0s()()(),e.j41(48,"div",15)(49,"div",16)(50,"input",28),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.cedula,r)||(t.nuevoCliente.cedula=r),e.Njj(r)}),e.k0s(),e.j41(51,"label",29),e.EFF(52,"C\xe9dula"),e.k0s()(),e.j41(53,"div",16)(54,"input",30),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.numero,r)||(t.nuevoCliente.numero=r),e.Njj(r)}),e.k0s(),e.j41(55,"label",31),e.EFF(56,"N\xfamero de Tel\xe9fono"),e.k0s()()(),e.j41(57,"div",15)(58,"div",16)(59,"input",32),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.fecha_nacimiento,r)||(t.nuevoCliente.fecha_nacimiento=r),e.Njj(r)}),e.k0s(),e.j41(60,"label",33),e.EFF(61,"Fecha de Nacimiento"),e.k0s()(),e.j41(62,"div",16)(63,"input",34),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(t.nuevoCliente.locacion,r)||(t.nuevoCliente.locacion=r),e.Njj(r)}),e.k0s(),e.j41(64,"label",35),e.EFF(65,"Locaci\xf3n"),e.k0s()()(),e.j41(66,"div",36)(67,"button",37),e.EFF(68),e.k0s(),e.j41(69,"button",38),e.bIt("click",function(){return e.eBV(l),e.Njj(t.limpiarFormulario())}),e.EFF(70,"Limpiar"),e.k0s(),e.DNE(71,G,2,0,"button",39),e.k0s()()()(),e.DNE(72,L,2,3,"div",40),e.k0s()}2&i&&(e.R7$(2),e.AVh("active","list"===t.activeTab),e.R7$(2),e.AVh("active","new"===t.activeTab),e.R7$(2),e.xc7("display","list"===t.activeTab?"block":"none"),e.R7$(6),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("ngIf",t.error),e.R7$(),e.Y8G("ngIf",!t.loading&&!t.error),e.R7$(),e.Y8G("ngIf",0===t.clientes.length&&!t.loading&&!t.error),e.R7$(),e.xc7("display","new"===t.activeTab||"edit"===t.activeTab?"block":"none"),e.R7$(7),e.JRh(t.isEditing?"Editar Cliente":"Registro Nuevo Cliente"),e.R7$(3),e.R50("ngModel",t.nuevoCliente.nombre),e.R7$(4),e.R50("ngModel",t.nuevoCliente.apellido),e.R7$(5),e.R50("ngModel",t.nuevoCliente.email),e.R7$(4),e.R50("ngModel",t.nuevoCliente.genero),e.R7$(11),e.R50("ngModel",t.nuevoCliente.cedula),e.R7$(4),e.R50("ngModel",t.nuevoCliente.numero),e.R7$(5),e.R50("ngModel",t.nuevoCliente.fecha_nacimiento),e.R7$(4),e.R50("ngModel",t.nuevoCliente.locacion),e.R7$(4),e.Y8G("disabled",t.loading),e.R7$(),e.SpI(" ",t.isEditing?"Actualizar Cliente":"Guardar Cliente"," "),e.R7$(3),e.Y8G("ngIf",t.isEditing),e.R7$(),e.Y8G("ngIf",t.message))},dependencies:[g.MD,g.Sq,g.bT,g.vh,a.YN,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV,m.iI],styles:['@charset "UTF-8";.main-content1[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.mini-menu[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;border-bottom:2px solid #ddd}.tab-button[_ngcontent-%COMP%]{padding:10px 20px;text-decoration:none;color:#333;background:#f5f5f5;border:1px solid #ddd;margin-right:2px;border-bottom:none;transition:all .3s ease;cursor:pointer;-webkit-user-select:none;user-select:none}.tab-button[_ngcontent-%COMP%]:hover{background:#e9e9e9;color:#000}.tab-button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 5px #0000001a}.table-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;text-align:center}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;font-size:14px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;text-align:left;border-bottom:1px solid #ddd}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;color:#495057;border-top:2px solid #007bff}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;border:none;border-radius:3px;cursor:pointer;font-size:12px;transition:all .2s ease}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838}.btn-toggle[_ngcontent-%COMP%]{background:#ffc107;color:#212529}.btn-toggle[_ngcontent-%COMP%]:hover{background:#e0a800}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333}.status-activo[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.status-inactivo[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.no-data[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-style:italic;padding:20px}.user-form[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;background:#fff;padding:30px;border-radius:10px;box-shadow:0 4px 6px #0000001a}.centered-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#333;font-size:24px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #ddd;border-radius:8px;font-size:16px;transition:all .3s ease;background:#fff;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff40}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;font-size:16px;color:#666;transition:all .3s ease;pointer-events:none;background:#fff;padding:0 5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not([value=""]) + label[_ngcontent-%COMP%]{top:-8px;left:10px;font-size:12px;color:#007bff;font-weight:700}.permissions-fieldset[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;margin:25px 0}.permissions-fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;color:#333;padding:0 10px;font-size:16px}.permissions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px}.permission-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.permission-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin:0;transform:scale(1.2);cursor:pointer}.permission-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:static;background:none;padding:0;font-size:14px;color:#333;cursor:pointer;margin:0}.form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:30px;flex-wrap:wrap}.form-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 25px;border:none;border-radius:6px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s ease;min-width:140px}.btn-save[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3;transform:translateY(-1px)}.btn-save[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.btn-clear[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-clear[_ngcontent-%COMP%]:hover{background:#545b62;transform:translateY(-1px)}.btn-cancel[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-1px)}.message-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;padding:15px 20px;border-radius:5px;font-weight:700;z-index:1000;min-width:300px;max-width:500px;box-shadow:0 4px 12px #00000026;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.message.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb;border-left:4px solid #28a745}.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;border-left:4px solid #dc3545}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:16px}.loading[_ngcontent-%COMP%]{color:#007bff}.error[_ngcontent-%COMP%]{color:#dc3545;background:#f8d7da;border:1px solid #f5c6cb;border-radius:5px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.permissions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.form-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:auto}.mini-menu[_ngcontent-%COMP%]{flex-direction:column}.tab-button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:2px}}']})}}return o})();function S(o,c){1&o&&(e.j41(0,"div",35),e.nrm(1,"i",36),e.EFF(2," Cargando... "),e.k0s())}function V(o,c){if(1&o&&(e.j41(0,"div",37),e.nrm(1,"i",38),e.EFF(2),e.k0s()),2&o){const n=e.XpG();e.R7$(2),e.SpI(" ",n.error," ")}}function D(o,c){if(1&o&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("nombre")," ")}}function A(o,c){if(1&o&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("apellido")," ")}}function z(o,c){if(1&o&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("cedula")," ")}}function Y(o,c){if(1&o&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("numero")," ")}}function X(o,c){if(1&o&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("email")," ")}}let C=(()=>{class o{constructor(n,i,t,l){this.fb=n,this.router=i,this.route=t,this.clientesService=l,this.isEditMode=!1,this.clienteId=null,this.loading=!1,this.error=null,this.clienteForm=this.createForm()}ngOnInit(){this.route.params.subscribe(n=>{n.id&&(this.isEditMode=!0,this.clienteId=+n.id,this.loadCliente())})}createForm(){return this.fb.group({nombre:["",[a.k0.required,a.k0.minLength(2)]],apellido:["",[a.k0.required,a.k0.minLength(2)]],cedula:["",[a.k0.required,a.k0.pattern(/^\d{10}$/)]],numero:["",[a.k0.required,a.k0.pattern(/^\d{10}$/)]],email:["",[a.k0.email]],fecha_nacimiento:[""],genero:["M"],locacion:[""],estado:["activo"]})}loadCliente(){this.clienteId&&(this.loading=!0,this.clientesService.getCliente(this.clienteId).subscribe({next:n=>{this.clienteForm.patchValue(n),this.loading=!1},error:n=>{console.error("Error al cargar cliente:",n),this.error="Error al cargar los datos del cliente",this.loading=!1}}))}onSubmit(){if(this.clienteForm.invalid)return void this.markFormGroupTouched();this.loading=!0,this.error=null;const n=this.clienteForm.value;(this.isEditMode?this.clientesService.updateCliente(this.clienteId,n):this.clientesService.createCliente(n)).subscribe({next:()=>{this.router.navigate(["/clientes"])},error:t=>{console.error("Error al guardar cliente:",t),this.error="Error al guardar el cliente",this.loading=!1}})}onCancel(){this.router.navigate(["/clientes"])}markFormGroupTouched(){Object.keys(this.clienteForm.controls).forEach(n=>{this.clienteForm.get(n)?.markAsTouched()})}isFieldInvalid(n){const i=this.clienteForm.get(n);return!(!i||!i.invalid||!i.dirty&&!i.touched)}getFieldError(n){const i=this.clienteForm.get(n);if(i?.errors){if(i.errors.required)return`${n} es requerido`;if(i.errors.minlength)return`${n} debe tener al menos ${i.errors.minlength.requiredLength} caracteres`;if(i.errors.pattern)return`${n} tiene un formato inv\xe1lido`;if(i.errors.email)return"Email tiene un formato inv\xe1lido"}return""}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(a.ok),e.rXU(m.Ix),e.rXU(m.nX),e.rXU(p.T))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-cliente-form"]],decls:68,vars:21,consts:[[1,"cliente-form-content"],[1,"header-section"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","apellido"],["type","text","id","apellido","formControlName","apellido",1,"form-control"],["for","cedula"],["type","text","id","cedula","formControlName","cedula","placeholder","1234567890",1,"form-control"],["for","numero"],["type","text","id","numero","formControlName","numero","placeholder","0987654321",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","placeholder","ejemplo@correo.com",1,"form-control"],["for","fecha_nacimiento"],["type","date","id","fecha_nacimiento","formControlName","fecha_nacimiento",1,"form-control"],["for","genero"],["id","genero","formControlName","genero",1,"form-control"],["value","M"],["value","F"],["for","locacion"],["type","text","id","locacion","formControlName","locacion","placeholder","Ciudad, provincia",1,"form-control"],["for","estado"],["id","estado","formControlName","estado",1,"form-control"],["value","activo"],["value","inactivo"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"loading"],[1,"fas","fa-spinner","fa-spin"],[1,"error-message"],[1,"fas","fa-exclamation-triangle"],[1,"invalid-feedback"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2"),e.EFF(3),e.k0s()(),e.DNE(4,S,3,0,"div",2)(5,V,3,1,"div",3),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Nombre *"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,D,2,1,"div",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15,"Apellido *"),e.k0s(),e.nrm(16,"input",11),e.DNE(17,A,2,1,"div",9),e.k0s()(),e.j41(18,"div",5)(19,"div",6)(20,"label",12),e.EFF(21,"C\xe9dula *"),e.k0s(),e.nrm(22,"input",13),e.DNE(23,z,2,1,"div",9),e.k0s(),e.j41(24,"div",6)(25,"label",14),e.EFF(26,"Tel\xe9fono *"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,Y,2,1,"div",9),e.k0s()(),e.j41(29,"div",5)(30,"div",6)(31,"label",16),e.EFF(32,"Email"),e.k0s(),e.nrm(33,"input",17),e.DNE(34,X,2,1,"div",9),e.k0s(),e.j41(35,"div",6)(36,"label",18),e.EFF(37,"Fecha de Nacimiento"),e.k0s(),e.nrm(38,"input",19),e.k0s()(),e.j41(39,"div",5)(40,"div",6)(41,"label",20),e.EFF(42,"G\xe9nero"),e.k0s(),e.j41(43,"select",21)(44,"option",22),e.EFF(45,"Masculino"),e.k0s(),e.j41(46,"option",23),e.EFF(47,"Femenino"),e.k0s()()(),e.j41(48,"div",6)(49,"label",24),e.EFF(50,"Ubicaci\xf3n"),e.k0s(),e.nrm(51,"input",25),e.k0s()(),e.j41(52,"div",5)(53,"div",6)(54,"label",26),e.EFF(55,"Estado"),e.k0s(),e.j41(56,"select",27)(57,"option",28),e.EFF(58,"Activo"),e.k0s(),e.j41(59,"option",29),e.EFF(60,"Inactivo"),e.k0s()()()(),e.j41(61,"div",30)(62,"button",31),e.nrm(63,"i",32),e.EFF(64),e.k0s(),e.j41(65,"button",33),e.bIt("click",function(){return t.onCancel()}),e.nrm(66,"i",34),e.EFF(67," Cancelar "),e.k0s()()()()),2&i&&(e.R7$(3),e.SpI("",t.isEditMode?"Editar":"Nuevo"," Cliente"),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("ngIf",t.error),e.R7$(),e.Y8G("formGroup",t.clienteForm),e.R7$(5),e.AVh("is-invalid",t.isFieldInvalid("nombre")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("nombre")),e.R7$(4),e.AVh("is-invalid",t.isFieldInvalid("apellido")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("apellido")),e.R7$(5),e.AVh("is-invalid",t.isFieldInvalid("cedula")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("cedula")),e.R7$(4),e.AVh("is-invalid",t.isFieldInvalid("numero")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("numero")),e.R7$(5),e.AVh("is-invalid",t.isFieldInvalid("email")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("email")),e.R7$(28),e.Y8G("disabled",t.loading),e.R7$(2),e.SpI(" ",t.isEditMode?"Actualizar":"Crear"," Cliente "))},dependencies:[g.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD],styles:[".cliente-form[_ngcontent-%COMP%]{min-width:500px;padding:20px 0}.cliente-form-content[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header-section[_ngcontent-%COMP%]{margin-bottom:20px;border-bottom:2px solid #007bff;padding-bottom:10px}.header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:24px}.form-container[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:5px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:1px solid #dee2e6}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.loading[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:20px 0;border-radius:4px}.loading[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ffcdd2}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})}}return o})();const B=[{path:"",component:f},{path:"nuevo",component:C},{path:"editar/:id",component:C}];let H=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[g.MD,a.X1,a.YN,m.iI.forChild(B),b.tP,h.Ou,_.NQ,v.RG,F.fS,M.Hl,x.m_,k.Hu,E.hM,O._T,P.Ve,j.D6,f]})}}return o})()}}]);