"use strict";(self.webpackChunkspa_modern_frontend=self.webpackChunkspa_modern_frontend||[]).push([[346],{9346:(J,l,e)=>{e.r(l),e.d(l,{ReportesModule:()=>G});var c=e(177),p=e(9417),g=e(9012),t=e(4438),m=e(1626),f=e(6354),b=e(5312);let h=(()=>{class o{constructor(n){this.http=n,this.apiUrl=`${b.c.apiUrl}/reportes`}getCambios(n,r,a){let s=new m.Nl;return n&&(s=s.set("page",n.toString())),r&&(s=s.set("limit",r.toString())),a&&(s=s.set("search",a)),this.http.get(`${this.apiUrl}/cambios`,{params:s}).pipe((0,f.T)(d=>({cambios:d.data||[],total:d.pagination?.total||0,totalPages:d.pagination?.totalPages||0})))}static{this.\u0275fac=function(r){return new(r||o)(t.KVO(m.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function u(o,i){1&o&&(t.j41(0,"div",11),t.EFF(1,"Cargando reportes..."),t.k0s())}function C(o,i){if(1&o&&(t.j41(0,"div",12),t.EFF(1),t.k0s()),2&o){const n=t.XpG();t.R7$(),t.JRh(n.error)}}function x(o,i){if(1&o&&(t.j41(0,"tr",16)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s()()),2&o){const n=i.$implicit,r=t.XpG(2);t.R7$(2),t.JRh(n.id),t.R7$(2),t.JRh(n.id_cambiado),t.R7$(2),t.JRh(n.descripcion),t.R7$(2),t.JRh(n.tipo_cambio),t.R7$(2),t.JRh(r.formatDate(n.fecha)),t.R7$(2),t.JRh(n.tabla_afectada)}}function F(o,i){1&o&&(t.j41(0,"tr",16)(1,"td",17),t.EFF(2,"No hay datos disponibles."),t.k0s()())}function v(o,i){if(1&o&&(t.j41(0,"table",13)(1,"thead")(2,"tr")(3,"th"),t.EFF(4,"ID"),t.k0s(),t.j41(5,"th"),t.EFF(6,"ID de Cambio"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Descripci\xf3n"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Tipo de Cambio"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Fecha"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Tabla Afectada"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,x,13,6,"tr",14)(17,F,3,0,"tr",15),t.k0s()()),2&o){const n=t.XpG();t.R7$(16),t.Y8G("ngForOf",n.cambios),t.R7$(),t.Y8G("ngIf",0===n.cambios.length)}}const M=[{path:"",component:(()=>{class o{constructor(n){this.reportesService=n,this.cambios=[],this.loading=!1,this.error=null}ngOnInit(){this.loadCambios()}loadCambios(){this.loading=!0,this.error=null,this.reportesService.getCambios().subscribe({next:n=>{this.cambios=n.cambios,this.loading=!1},error:n=>{console.error("Error al cargar cambios:",n),this.error="Error al cargar los datos",this.loading=!1}})}formatDate(n){if(!n)return"";const r=new Date(n);return r.toLocaleDateString("es-ES")+" "+r.toLocaleTimeString("es-ES")}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(h))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-reportes-list"]],decls:14,vars:3,consts:[[1,"main-content1"],[1,"mini-menu"],[1,"tab-button","active"],["id","listSection"],[1,"content"],[1,"table-wrapper"],[1,"table-container"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","user-table",4,"ngIf"],["id","messageContainer"],[1,"loading"],[1,"error"],[1,"user-table"],["class","user-row",4,"ngFor","ngForOf"],["class","user-row",4,"ngIf"],[1,"user-row"],["colspan","6",2,"text-align","center"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.EFF(3,"Listado Reportes"),t.k0s()(),t.j41(4,"section",3)(5,"div",4)(6,"div",5)(7,"h2"),t.EFF(8,"Listado de Cambios del Sistema"),t.k0s(),t.j41(9,"div",6),t.DNE(10,u,2,0,"div",7)(11,C,2,1,"div",8)(12,v,18,2,"table",9),t.k0s()()()(),t.nrm(13,"div",10),t.k0s()),2&r&&(t.R7$(10),t.Y8G("ngIf",a.loading),t.R7$(),t.Y8G("ngIf",a.error),t.R7$(),t.Y8G("ngIf",!a.loading&&!a.error))},dependencies:[c.Sq,c.bT],styles:['@charset "UTF-8";.main-content1[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.mini-menu[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;border-bottom:2px solid #ddd}.tab-button[_ngcontent-%COMP%]{padding:10px 20px;text-decoration:none;color:#333;background:#f5f5f5;border:1px solid #ddd;margin-right:2px;border-bottom:none;transition:all .3s ease;cursor:pointer;-webkit-user-select:none;user-select:none}.tab-button[_ngcontent-%COMP%]:hover{background:#e9e9e9;color:#000}.tab-button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 5px #0000001a}.table-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;text-align:center}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;font-size:14px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;text-align:left;border-bottom:1px solid #ddd}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;color:#495057;border-top:2px solid #007bff}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.user-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:16px}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:12px;border-radius:4px;margin-bottom:20px;border:1px solid #f5c6cb}@media (max-width: 768px){.main-content1[_ngcontent-%COMP%]{padding:10px}.user-table[_ngcontent-%COMP%]{font-size:12px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px}.mini-menu[_ngcontent-%COMP%]{flex-direction:column}.tab-button[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:0;text-align:center}}']})}}return o})()}];let O=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(M),g.iI]})}}return o})();var R=e(9159),P=e(8834),E=e(9213),j=e(6467),$=e(9631),k=e(2798),I=e(5351),T=e(5416),y=e(5596),D=e(9183),L=e(4823),S=e(6471);let G=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[c.MD,p.YN,p.X1,O,R.tP,P.Hl,E.m_,j.RG,$.fS,k.Ve,I.hM,T._T,y.Hu,D.D6,L.uc,S.YN]})}}return o})()}}]);